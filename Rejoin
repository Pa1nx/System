wait(15)
while true do
local Http = game:GetService("HttpService")
local TPS = game:GetService("TeleportService")
local Api = "https://games.roblox.com/v1/games/"

local _place = game.PlaceId
local _servers = Api.._place.."/servers/Public?sortOrder=Asc&limit=100"

-- Updated HTTP request method
local request = (syn and syn.request) or request or (http and http.request) or http_request

function ListServers(cursor)
    local Raw = request({
        Url = _servers .. ((cursor and "&cursor="..cursor) or ""),
        Method = "GET"
    })
    return Http:JSONDecode(Raw.Body)
end

local Server, Servers, Next

repeat
    Servers = ListServers(Next)
    for _, v in ipairs(Servers.data) do
        if v.id ~= game.JobId then  -- Skip the current server
            Server = v
            break
        end
    end
    Next = Servers.nextPageCursor
until Server

if Server then
    TPS:TeleportToPlaceInstance(_place, Server.id, game.Players.LocalPlayer)
else
    print("No suitable server found.")
end


wait(5)
end
